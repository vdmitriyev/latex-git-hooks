version: '3'

tasks:

  default:
    desc: lists all tasks
    silent: true
    cmds:
      - task -t Taskfile_latex.yml --list-all
      - echo ""
      - echo "Example usage-> 'task -t Taskfile_latex.yml compile -- tests/data/sample01_simple_correct.tex'"
      
  compile:
    desc: compiles LaTeX to PDF
    silent: true
    cmds:
      - defer: pdflatex -synctex=1 -interaction=nonstopmode {{.CLI_ARGS}}
      - defer: makeglossaries {{.CLI_ARGS}} 
      - defer: bibtex {{.CLI_ARGS}} 
      - defer: pdflatex -synctex=1 -interaction=nonstopmode {{.CLI_ARGS}}
      - defer: pdflatex -synctex=1 -interaction=nonstopmode {{.CLI_ARGS}}

  clean:
    desc: clean auxiliary files generated by LaTeX
    silent: true
    cmds:
      - defer: rm *.aux 
      - defer: rm *.bbl 
      - defer: rm *.blg 
      - defer: rm *.dvi 
      - defer: rm *.log 
      - defer: rm *.out 
      - defer: rm *.toc 
      - defer: rm *.synctex.gz
      
